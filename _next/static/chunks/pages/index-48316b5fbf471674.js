(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(2238)}])},2238:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return I}});var d=c(7568),e=c(4051),f=c.n(e),g=c(5893),h=c(9008),i=c.n(h),j=c(214),k=c.n(j),l=c(4111),m=c(1438),n=c(8029),o=c(460),p=c(7294),q=c(9477),r=c(1217),s=c(9931),t=c(6242),u=function(a){(0,n.Z)(c,a);var b=(0,o.Z)(c);function c(a){var d;return(0,m.Z)(this,c),(d=b.call(this,a)).canvas=null,d.scene=null,d.camera=null,d.renderer=null,d.frameId=null,d.onCanvasLoaded=function(a){d.initScene(a)},d.animate=d.animate.bind((0,l.Z)(d)),d}var e=c.prototype;return e.componentDidMount=function(){},e.updateVrmUrl=function(a){var b=this;return(0,d.Z)(f().mark(function c(){var d,e,g;return f().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return d=new r.E,c.next=3,d.loadAsync(a);case 3:return e=c.sent,c.next=6,s.n4.from(e);case 6:return g=c.sent,b.scene&&b.scene.add(g.scene),c.abrupt("return",g);case 9:case"end":return c.stop()}},c)}))()},e.updateVrmArryaBuffer=function(a){var b=this;return(0,d.Z)(f().mark(function c(){var d,e,g;return f().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return d=new r.E,c.next=3,d.parseAsync(a,"");case 3:return e=c.sent,c.next=6,s.n4.from(e);case 6:return g=c.sent,b.scene&&b.scene.add(g.scene),c.abrupt("return",g);case 9:case"end":return c.stop()}},c)}))()},e.initScene=function(a){if(a){var b=new q.CP7({canvas:a,antialias:!0}),c=a.clientWidth,d=a.clientHeight;this.canvas=a;var e=new q.xsS;e.background=new q.Ilk(2171169);var f=new q.Ox3(16777215);f.position.set(0,1,-2),e.add(f),this.scene=e;var g=new q.cPb(50,c/d,.01);g.position.set(0,1.5,-1.5);var h=new t.OrbitControls(g,b.domElement);h.target.set(0,1.125,0),h.update(),this.camera=g,b.setSize(c,d),b.setPixelRatio(window.devicePixelRatio),this.renderer=b,this.animate()}},e.animate=function(){this.frameId=window.requestAnimationFrame(this.animate),this.renderer&&this.scene&&this.camera&&this.renderer.render(this.scene,this.camera)},e.render=function(){return(0,g.jsx)("div",{children:(0,g.jsx)("canvas",{style:{width:"80vw",height:"40vw"},ref:this.onCanvasLoaded})})},c}(p.Component),v=c(2318),w=c(253),x=c(5258),y=c(8358),z=c(282),A=c(4421),B=c(1906),C=c(9669),D=c.n(C),E=c(1876).Buffer,F=function(a){var b,c=(0,p.createRef)(),e=(0,g.jsx)(u,{ref:c}),h=(0,p.useState)(""),j=h[0],l=h[1],m=function(a){null==c||null===(b=c.current)|| void 0===b||b.updateVrmArryaBuffer(a);var b,d=G(a);l(JSON.stringify(JSON.parse(d.metaString),null,2))},n=function(a){var b=!0,c=!1,d=void 0;try{for(var e,f=function(){var a=e.value,b=new FileReader;b.onload=function(){var a=b.result;null!==a&&m(a)},b.readAsArrayBuffer(a)},g=a[Symbol.iterator]();!(b=(e=g.next()).done);b=!0)f()}catch(h){c=!0,d=h}finally{try{b||null==g.return||g.return()}finally{if(c)throw d}}},o=(b=(0,d.Z)(f().mark(function a(b){var c;return f().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,D().get(b,{responseType:"arraybuffer"});case 2:m((c=a.sent).data);case 4:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)}),q=(0,g.jsx)(g.Fragment,{});j&&(q=(0,g.jsxs)(v.Z,{component:"div",children:[(0,g.jsx)("p",{children:"VRMのメタ情報"}),(0,g.jsx)(w.Z,{bgcolor:"#f5f5f5",fontWeight:"fontWeightLight",m:3,style:{textAlign:"left",whiteSpace:"pre"},children:j})]}));var r=(0,p.useState)(""),s=r[0],t=r[1];return(0,g.jsxs)("div",{className:k().container,children:[(0,g.jsxs)(i(),{children:[(0,g.jsx)("title",{children:"Create Next App"}),(0,g.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,g.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,g.jsx)(x.Z,{position:"relative",color:"inherit",children:(0,g.jsxs)(y.Z,{children:[(0,g.jsx)(z.Z,{href:"./references/",className:"App-link",children:"References"}),(0,g.jsx)(z.Z,{href:"./swagger/",className:"App-link",children:"Api Docs"})]})}),(0,g.jsxs)("main",{className:k().main,children:[e,(0,g.jsx)(A.Z,{style:{width:800},placeholder:"VRMファイルのURLを入力してください",onChange:function(a){return t(a.target.value)}}),(0,g.jsx)(z.Z,{variant:"contained",size:"large",color:"primary",onClick:function(a){return o(s)},children:"VRMをロードする"}),(0,g.jsx)(B.A0,{maxFileSize:5368709120,filesLimit:1,dropzoneText:"ここをクリックしてVRMファイルを選択するか、ファイルをドラッグアンドドロップしてください",onChange:function(a){return n(a)}}),q]}),(0,g.jsx)("footer",{className:k().footer})]})};function G(a){var b=E.from(a.slice(8,12)),c=E.from(a.slice(12,16)),d=H(b),e=H(c),f=E.from(a.slice(20,20+e)).toString();return{fileSize:d,chunkSize:e,metaString:f}}function H(a){var b=a.reverse(),c="",d=!0,e=!1,f=void 0;try{for(var g,h=b[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var i=g.value;c+=i.toString(16)}}catch(j){e=!0,f=j}finally{try{d||null==h.return||h.return()}finally{if(e)throw f}}return parseInt(c,16)}var I=F},214:function(a){a.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}}},function(a){a.O(0,[737,92,623,774,888,179],function(){var b;return a(a.s=8312)}),_N_E=a.O()}])